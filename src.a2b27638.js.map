{"version":3,"sources":["src/sprite_map/sprite.js","src/sprite_map/sprite_map.js","src/collision_manager/collisionManager.js","src/collision_manager/vertex.js","src/player/player.js","src/aliens/alien.js","src/aliens/alien_squad.js","src/areas/area_itembar.js","src/bunkers/bunker.js","src/aim/aim.js","src/bullet/bullet.js","src/areas/area_player.js","src/areas/area_alien.js","src/input-handler.js","src/game.js","src/index.js"],"names":["Sprite","x","y","w","h","SpriteMap","sourceImage","countOfPositionsWidth","countOfPositionsHeight","scaleX","scaleY","widthOneSprite","width","heightOneSprite","height","positions","_positions","listOfSprites","push","context","numberPosition","drawImage","collisionFunction","firstObject","secondObject","objectIntersectsObject","vertexThis","vertexes","vertexOther","i","length","x0","y0","j","dist","xA","yA","xB","yB","t","Math","pow","l","sqrt","x1","y1","x2","y2","o1","o2","Vertex","Player","spriteMap","beginPositionX","beginPositionY","vx","vy","isWalks","direction","health","underBunker","time","ceil","draw","objects","object","collision_manager","Alien","bullet","_timeAnimation","isDamage","roundTime","countOfDirections","drawDamage","beginPath","lineWidth","strokeStyle","strokeRect","stroke","closePath","SquadAliens","enemyTypes","countOfMonsters","colorBullet","zoneX","zoneY","zoneWidth","zoneHeight","countOfTypes","listOfMonsters","_setListOfMonster","isWin","directionRight","list","typeMonster","numberMoster","enemy","move","ItemBar","faceRobot","countOfKill","countOfBunkers","fillStyle","fillRect","fill","font","fillText","Bunker","Aim","arc","PI","Bullet","xBegin","yBegin","caliber","color","type","zoomBullet","isFire","coefSpeed","r","damage","xEnd","yEnd","grad","createRadialGradient","addColorStop","left","top","right","bottom","AreaPlayer","AreaAlien","InputHandler","down","pressed","document","addEventListener","e","keyCode","code","isAnounce","songAnouncer","getElementById","songBlaster","heightAreaPlayer","countOfMonstersInRow","previousTime","sourceImagePlayer","Image","src","assetPathPlayer","sourceImageAlienTypeOne","assetPathAlienTypeOne","sourceImageAlienTypeTwo","assetPathAlienTypeTwo","sourceImageAlienTypeThree","assetPathAlienTypeThree","sourceImageBunkerType","assetPathBunkerType","sourceImageItemBar","assetPathItemBarType","spriteMaps","itembar","aliens","player","bunker","gameState","area_player","area_alien","area_itembar","bullets","bunkers","aim","inputHandler","preload","onPreloadComplete","alert","init","canvas","generateAreas","generatePlayer","generateBunkers","generateAliens","update","stopGame","checkStateOfGame","timeAnounce","volume","play","moveController","fireAliens","updateBullets","updateAliens","getContext","clearRect","drawLose","setAim","drawBullets","drawBunkers","splice","timeFire","isTimeFire","endPositionX","endPositionY","getRandom","activateFireAliens","fire","obstacle","intersectsWithBunkers","isDown","moveUp","moveDown","moveLeft","moveRight","intersectBulletPlayer","intersectBulletAlien","intersectBulletBunker","onclick","event","songOfBlaster","Audio","offsetX","offsetY","onmousemove","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","strokeText","typeAliens","min","max","floor","random","intersects","audioGame","window","innerWidth","innerHeight","sourceImageFaceRobot","sourceImageEvilEyes","tickLength","lastTick","lastRender","stopCycle","buttonStart","loop","style","display","onload","pattern","createPattern","evilEyes","noteWindow","run","tFrame","requestAnimationFrame","nextTick","numTicks","timeSinceTick","pause","cancelAnimationFrame","performance","now"],"mappings":";;AeAA;;AACA;;AACA;AVFA,ACAA,AIAA,AFAA,ANAO,AEAP,AHAA,SCAgBsB,iBAAT,CAA2BC,WAA3B,EAAwCC,YAAxC,EAAsD;AAAE;AGC/D,AKAA,AFAA,ANAI,AEAJ,IDDqB0B,AHAAlD,KECVyB,ICAP,AHAA,gBGAYxB,AHAAA,CGAZ,AHAA,CEA6B,CAACsB,ACAfrB,AHAAA,CGAf,AHAA,EGAkB,AHAAC,CAAlB,EAAqBC,CAArB,EAAwB,EEAK,EAAcoB,YAAd,CAAtB,IACAC,sBAAsB,CAACD,YAAD,EAAeD,WAAf,CAD7B;AAEH,ACFqB,AWDtB,ACGA,AfF4B,IeEtB4J,MAAM,GAAG3C,QAAQ,CAACO,cAAT,CAAwB,MAAxB,CAAf;AACA,IAAM5H,OAAO,GAAGgK,MAAM,CAACe,UAAP,CAAkB,IAAlB,CAAhB;AbCA,ACHQ,AWDR,ACIA,AfHQ,IeGF0C,GZHO3O,AHAAA,CGAL,AHAA,CEGCwB,ECHQxB,AHAAA,CGAT,AHAA,CeGO,GAAGuI,QAAQ,CAACO,MbA3B,CAAgCxH,OaAd,CAAwB,GbA1C,EAA6CC,CaA3B,CAAlB,UbAA,EAA2D;AACvD,ACHI,AYIR2J,AfJQ,ISHavE,AGAAwB,ALAAlC,AIAAiC,AEAAE,EXMb3G,AaCF,CZJOxB,AYINU,AfJMV,CGAL,AHAA,GGASA,AHAAA,CGAT,AYIR,AfJQ,GeIO2O,CbDG,GAAGtN,EaCA,CAACuN,QbDU,CAACnN,CaCjC,ObDI;AOLA,AGAA,ALAA,AIAA,ATMA,ACHC,AWFL,ACMAwJ,AFPE,AbGM,MEGAvJ,AaCF,CAACd,AfJMX,CAAL,GAASA,CAAT,CeIR,GAAgB0O,CNPC,APME,EKNH5O,CAAZ,ALMkBuB,CUNNvB,CAAZ,ALAeC,AIAHD,AIOM,CRPlB,AIAA,AIOmB8O,CHPJ7O,CAAf,ALAkBC,AIAHD,CJAf,AIAA,AEAY,CDAMU,CLAGR,AIAHQ,CJAlB,EAAwBuF,CKAxB,AVM8B,CSN9B,ATM+BxE,CUNNb,AGO7B,CJP6BA,KCAzB,ALAA,CIAA,ATMA,CUNiC,ALAE,CIAF;AFApB,AGAoB,ALAE,AIAF,AISrC,AFTgB,AbIR,IeKFkO,GfLO5O,CAAL,GAASA,CAAT,YeKkB,GAAG,IAAIiJ,KAAJ,EAA7B;AbFI,AYLJ,ACQA,AfLK,IeKC4F,GbHG,IAAIpN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CaGC,GAAG,IAAI2H,EbHE,CAACvH,EaGP,EAA5B,EbHI,EAAuCD,CAAC,EAAxC,EAA4C;AONxC,AGAA,ALAA,AIAA,ATOA,AaIR,AFZgB,IPCKmD,ASWfkK,AdXe7O,ICOT0B,COPC9B,AGAAA,ALAAA,AIAAA,CFAL,AGAA,ALAA,AIAA,ATOM,GOPG,AGAAA,ALAAA,AIAAA,ATOAyB,COPT,AGAA,ALAA,AIAA,AIWQ,GAAG,EAAnB,EAAuB,EbJI,CAACG,CAAD,CAAV,CAAc5B,CAAvB;AONA,AHAJ,AMAI,ALAA,AIAA,ATOA,AYNR,AbDI,QCOQ+B,COPC9B,AGAAA,ALAAA,AIAAA,CFAL,AGAA,ALAA,AIAA,ATOM,GOPG,AGAAA,ALAAA,AIAAA,ATOAwB,COPT,AGAA,ALAA,AIAA,OVAQpB,EKAA2E,AJOW,CAACpD,CAAD,CAAV,CAAc3B,CAAvB,IDPJ,CKAA,CLAyBK,CKAD2E,eAAxB,EAAyCC,GLAzC,EAAgD3E,MKAhD,EAAsD4E,KAAtD,EAA6DC,KAA7D,EAAoEC,ALApE,EAAwE7E,MAAxE,CKAA,CLAgFC,CKAD6E,KLA/E,EAAwF,GKAxF,EAA0F;AGCzF,AHDyF,AMCtF,ALAA,AIAA,AIUR,AFZI,AZCwF,IcWxF4J,KHVShP,ALAAA,AIAAA,AEFJmI,CDED,ALAA,AIAA,EIUR,CHViB1H,ALAAT,AIAAS,AEFb,CNEI,EMFQ,EDER,ADAA,AEFJ;ADGI,ALAA,AIAA,ATMA,AYNR,ACUA,AFZG,IEYCwO,KHVShP,ALAAA,AIAAA,ATMA,AWRLmI,CDEA,ALAA,AIAA,GCASzH,ALAAV,AIAAU,ATMAmB,CKNT,ALMU,AaIlB,EFZG,CXQkB,CAAb,CUNA,ADAA,AEFU,CXQMA,CAAC,AWRtB,GXQyBL,WAAW,CAACE,MAAhC,EAAwCG,CAAC,EAAzC,EAA6C;AIP7C,AMEH,ALAG,AIAH,ATMO,AaIZ,AFZGuG,AZAK,IcYJ6G,AFZD7G,KPAUvD,ACEAkB,ANFA7F,CCQG4B,EWRL,CEYX,AFZYuG,CXQQ,CAAC/G,GKNb,CDFA,CLAA,CMEiByE,CDFClB,CLAC3E,ECQI,CAACuB,CAAD,CAAV,CAAc5B,AWRhC,CNEK,ALMY,AWRS,EPArB,AJQ8ByB,EDR9B,KYAL,EAAqC,CXQQ,CAACG,CAAD,CAAV,CAAc3B,CAAhC,EAAmC0B,EWRf8G,CAAC,EAAI,MXQqB,CAACzG,CAAD,CAAX,CAAehC,CAAlD,EAAqD2B,WAAW,CAACK,CAAD,CAAX,CAAe/B,CAApE,CAAJ,IAA8E,CAAlF,EAAqF,OAAO,IAAP;AIPzF,ACEA,ALMI,AYPZ,ACYAoP,AFbI,AZAI,MYAJ,GPAS9J,ACEA7B,ANFApD,CCQG4B,CaKL,AFbH,CXQU,AaKNsG,AFbHH,GNED,ALMa1G,CWRjB,CAAU8G,CNEQ,AMFP,CNEP,AMFQC,EPAR,GAAoB1D,EJQI,AWR5B,CXQ6BhD,CAAD,AaKhC,CbLqB,AaKQ,CbLOhC,AWRT,AZAnB,CCQI,EDRyBM,CKAC,AOAlC,CPAmCuB,CSavC,EAAsC,GTb9B,SSayC,IdbzC;AKCA,ACEA,ALMI,AaKR8M,AFbA,AZAI,EcaJA,EVhBkBzK,AKDD4C,AFCAJ,AJAAxD,CSClB,IPEU+B,ACEAkB,ANFA5F,CCQG4B,CaKH,CbLK,AaKJmN,GbLO3N,CaKjB,GAAiB,CRXb,GAAmB,AQWvB,CTbI,ACEA,CEHCT,CPSuB,CIRD+D,AJQEjD,CAAD,CAAX,CAAe/B,CAAxB,ADRJ,GQDU,ARCoBM,QKA9B,cLAA;AQAAW,AJFJ,ACGI,ACEA,AGNJ,AFCA,ANWQ,AYRZ,ACaIyN,AFbDpG,ATHC,AHGI,EcaJoG,EFbDpG,EJDKrH,GHCKgE,ACEAkB,ANFA1F,CCQG0B,CaKH,CbLK,AaKJwJ,AFbH,CJDI,AICHpD,CJDI/D,CPSK9C,CaKjB,ELjBYoF,AFCA5D,AJAAA,CCAyC,CCGjD,GGDA,AHCmB+B,ACEnB,ANFA,CSJJ,EHM0B,AGNN8B,ARYQ,ADRF3G,CMEtB,ACLJ,ANW6B2B,AEX7B,CFW8B,CMXPoB,AKGxB,ATHwBA,CSGE,CXQQ,CQZjC,ARY6B,EIRzB,AIJwB6D,ERYUtF,CWRvC,AZAsC,CAAChB,CYAJ,EHJlC,EAAqCuG,AFCrC,AJAA,AHG0B,EOHa7D,AJAAA,CHGO/C,CCQG,CQZjD,ARYkDuB,CWRhB4G,CHJUtB,AGIT,EAAI,EHJvC,ARY6B,EQZqB,CRYS,CAA9B,CMX7B,AJAA,EIAuD,ANWQnF,AEXR,CFWS,GAAG,CAAvC,CAAX,ADRb,CCQkEhC,CAA9D;AORJkB,AJHiD,ACIjD,ACEA,AGP8C,AFCK,ANY/C,AaKRyN,AFbA,ATJuD,AHInD,EcaJA,INdIzN,EJHQlB,CAAyC,ACI5CmF,ACEAvB,ANFAhD,CCQGyB,CaKH,CbLK,AaKJsJ,CNdC,AFGP,AMFG,CJDKhH,AHCR,CJQahD,CKND,CDFCwD,ACEb,CQWJ,AFbW,CAACkD,EEaO,CTbf,COAG,CEaP,AFbiBI,AZAb,CQDA,AGACvH,ADAAA,AECa,CXQU,AWRTwH,CXQU1G,ADRF3B,CQDD,APSI,GAAG,CAAJ,CWRtB,CDDO,ADAA,AECd,CJDI,CPSkCsB,EDRA,CAACd,MAAZ,ECQsB,CAACgB,ADRFtB,MCQnB,GAA8B,CAA9B,GAAkCyB,CAAC,GAAG,CAAvC,CAAX,CAAqD/B,CAA9D,CDRJ,UIJY,CAAqC;AIIjDiB,AJJiD,ACKjD,AMDAA,ALGH,AIHGA,ATSI,AYTZ,ACcI,AFbA,AZAI,MQDAA,AGAAA,ADAAA,ENJejB,CAAkC,ACK5CmF,ALAA5E,CCQG8B,CAAC,EOTF,AGAA,ADAA,AECJ,CJDKsE,AHCR,AMDQnC,ADAAA,ATSI,CAAC,ADRb,CCQc3C,COTd,AHCasD,CGDD,APSI,AWRT,AZAO5E,CYAN8H,EXQWpG,AaKf6I,CTbJ,CGDiB/K,AGAjB,ADAA,ATSa,COTb,ARCA,EQDoB,AICjB,CAAayI,CXQUrG,AWRT,CAACsG,CXQU,COTHzI,CAAzB,CPS+BiC,COTH,CPSf,COTb,AICG,CAAP,CJDoC,AMcpC,CNdI,APSqC,CAACH,COTH,CPSK,GOTDQ,APSIJ,EAAN,EOTM,CAAC0E,EAA5C,APSkDxE,EOTF,APSI,GAAGF,EOTvD,APSqC,CAAzB,KAAmDI,IAAI,CAACC,GAAL,CAASJ,EAAE,GAAGF,CGb1D,CAA8B,AHac,EAAkB,CAAlB,IAAuBK,IAAI,CAACC,GAAL,CAASH,EAAE,GAAGF,EAAd,EAAkB,CAAlB,CAA1E,CAAR;AORJjB,AJLiD,ACMjD,AMDAA,ADAAA,ADLA,AFCA,ANaI,AaKRmO,AFbA,ATLI,AHKA,EcaJA,GFhBD,CJEKnO,AGAAA,ADAAA,ENLsBiC,CCMjBkC,AINArF,AFCAmD,AJAAnD,AHKAS,CSNL,ARcQ6B,AEbR,CFaS,EOTF,AGAA,ADAA,ADLEyE,AKmBF,AXlBE3D,CKIDyB,AGAAH,ADAAC,ATSI,AaKJ4K,CbLJ,ADRJ,EINiD,AHclCjN,CIRf,AELA,ANagB,ADRF7B,CSNd,AKmBJ,CNdI,AMcc+O,CTbGnK,AELAlC,ANaE,CAAJ,CUTf,CXCA,CUDA,CCAoB,CGcxB,AXlBI,COIsB,CCAtB,CNCA,AELA,AOkBwB,KJdxB,CIcJ;ANbIjC,AJNiD,ACOjD,AMDAA,ADAAA,ADLA,AFCA,ANaI,AYVZ,ACeG,AFbA,ATLK,AHMA,CcMR,KNRQA,AGAAA,ADAAA,ENNiCoC,CCO5BgC,AINArF,AFCAD,AJAAC,AHMAC,CIR4C,AKCjD,AFCA,ANaQoC,AEbR,AHMA,CCOS,EOTF,AGAA,ADAA,ADLE0E,AFCA5D,AJAAC,AHMA,CQFDyB,AGAAH,ADAAD,ATSI,CAAR,EAAWpC,CAAC,ADPF5B,CKDd,AINA,ERcmB,CIRD4E,AJQH,COTf,AEAA,ECAA,CDAoB,CHJpB,AJAA,CQIsB,CDAtB,GLCA,ALCS,GAAsB,CWF/B,IXEoC9E,MAApC;AQDH,AJPoD,ACQjD,AMDAU,ADAAA,ADLA,AFCA,ANaI,AWPV,ATNM,AHMA,MWFAA,ADAAA,ENPqCqC,CCQhCiC,AINAuB,AFCA9G,AJAAqD,AHMAnD,CIT4C,AGGjD,ANaQsC,ADPR,CCOS,AEbT,EQIO,ADAA,AHJEY,APMA,CWFDuB,ADAAA,ATSIrC,AEbF,CMDV,ANCA,GMDcwE,ARcE,ADPFnG,CCOG8B,IIRjB,AJQY,CUTZ,ADAA,ADLA,ARcsBH,CUTH,ADAA,CLCG,CELtB,CNa0B,CAACC,CUTHxC,ADAAA,CLCGyF,AMD3B,ADAA,CTSsB,CUTK,ADAA,ATSIvD,ADPtB,ECOwB,CDPD,EWFAjC,ADAAA,ATSI6B,CUTpC,ADAA,CTS+B,CUTI,ADAA,AVEErB,ECOI,CAAC2B,EUTFlC,ADAAA,ATSI,CUT5C,ADAA,AVEA,CKDsB,CMDqB,ADAA,ATSIgC,CIR/C,CJQyC,GUTO/B,ADAAA,CCAhD,ADAA,ATSmDmC,CAA7B,EAAgC,CAAhC,IAAqCC,IAAI,CAACC,GAAL,CAASL,EAAE,GAAGJ,EAAL,GAAU,CAACM,EAAE,GAAGF,EAAN,IAAYG,CAA/B,EAAkC,CAAlC,CAA/C,CAAR;AGhB6C,ACSjD,AMDApB,ADAAA,ADLA,AFCA,ANaI,AYXZ,ACgBA6N,AFZA,ATNQ,AHOA,MWHA7N,ADAAA,ENRyCwC,CCSpCgC,AINAsB,AFCA9G,AJAAqD,AHOAzC,COPL,ANaQ2B,CAAC,AEbT,EQIO,ADAA,AHJE,CHJwC,ACSjD,AMDQoC,ADAAA,APJE,CMDV,ARca,AEbb,CFaI,CIRS,CINCmC,AFCA7D,ANaE,ADNhB,EWHA,ADAA,AIcY,CAACsM,AdXI,CKFjB,EINA,CRcuB,CDND1O,CMFnB2C,ACLM,AOkBjB,CPlBgCxD,CAAxB,ANagB,CaKM,KRbXiG,CNEM,EAAjB,IcWiC,MRbTC,gBAAgBxC,MAAM;ADC9C,AMDA1C,ALCA,AIDAA,ADLA,AFCA,ANaC,AaKLA,AFZJ,ATNQ,AHOH,EcWDA,IHdIA,ADAAA,GLCKyE,AINArC,AFCAnD,AOkBF,AXlBEgD,CIAL,AOkBI/B,CRbCsC,AGNL,EEKO,ADAA,AHJE,CIIDoB,ADAAA,ADLE,CAAV,EHMA,CCLc3B,AJAd,CWkBJ,CRb0BO,AQaRqL,CXlBG5L,EEKjB,AMDA,ADAA,GLCsB,ACAtB,CCLS,CAAehD,CAAxB,CFKA,AFLA,UWkBJ,EAAwC,CAAxC,EAA2C,CAA3C,EACI4O,oBAAoB,CAACpO,KADzB,EAEIoO,oBAAoB,CAAClO,MAFzB,EAGI,CAHJ,EAGO,CAHP,EAGUkO,oBAAoB,CAACpO,KAH/B,EAGsCoO,oBAAoB,CAAClO,MAH3D;AVvBqD,ACWpD,AMDA,ALCG,AIDH,ADLG,AFCH,ANaA,AYXL,ACmBC,AFfD,ATNQ,CWgBR,QLjBa0C,ANCA/C,EGKA2F,AGNL,GAAU,CAAV,ANCA,GAAc,IGKd,CHLmBhD,EGKGgD,OHLR,CAAe3F,GGK7B,GHLA;AGMA,AGNA,AGOR,ATNQ,SMDKyG,ANCAxG,EGKA2F,IHLL,CMDA,ENCc,CMDCa,INCI9D,EGKnB,CGNA,EHMsBiD,IHLR,CAAe3F,MAA7B,GGKA;AFXA,AEYA,AGNA,ARaJ,AYXJ,ACoBAuO,AXrBQ,SCPKhP,AKMAoH,ARaF,AEZElH,CCPL,ADOA,CGKK0D,EFZI5D,ADOA,CCPT,AHmBJ,CKPI,GAAsB4D,AHLRT,CMDd,AKsBW,CAACsM,ERhBZ,AGNkBxI,IKsB1B,CXrBiB,CAAevG,CMDxB,AKsBqB,YAAW,CXrBvB,GAAgC,KAAKF,MAA9C;ACNA,AEYH,AGNG,ARaP,AaSG,AXrBI,MWqBAkP,GV5BKzP,AKMAoH,ANCAlH,CCPL,ADOA,GCPSF,AU4BF,AXrBE,CCPT,CKMA,CKsBUiB,ELtBI,ANCAiC,KMDd,AKsBiB,CAACwM,GXrBT,CAAe/O,KHKf,IcgBC,CAAsBoO,KXrBvB,GAAiC,KAAKvO,MWqBrC,AXrBV,EWqBqD,QAA3C,CAAd;AV3BI,AKMA,AICR,ACqBIS,AXrBI,AHKA,EcgBJA,OV5BSiC,AKMA+D,AKsBF,AXrBE1D,CWqBD6C,AdhBArF,ISNJ,ENCA,CMDakG,CLNb,CU4BJ,AXrBmB,ECPE/D,CKMjB,AKsBgBuM,CdhBC,CGLjB,CIFCxO,CPOmB,EAApB,CcgBJ,CV5BI,IGKU,MFKM;ADThB,ACUA,AIJA,AFDA,ANcR,AaSIA,AXrBI,EWqBJA,OV5BSoC,AKMA6D,ARaJlF,AaSE,AXrBEwB,CEGDmC,ASkBAjB,CV5BJ,AGKKxB,EECL,ARaR,CGnBkBG,ACUF,AJSFX,EGnBN,AKMYwE,ARapB,CITmB,CJSDvE,AEZV,CEGA,CIJA,AFDA,ANcR,CMduBkB,AOuBnB,AXrBqB,CFYHjB,AEZd,CAXmD,CFuB3D,AaS0B,AXrBE,CIFpB,CAAoB3B,ANcF4B,EAA1B,EAA8B,GMdtB,EAA6B,CAA7B,COuBJ,CPvBoC,KAAK9C,CAArC,EAAwC,KAAKC,CAA7C,EAAgD,KAAKkD,SAAL,CAAe3C,MAA/D,EAAuE,KAAK2C,SAAL,CAAe1C,MAAtF;AHJA,ACUA,AIJA,AFDH,ANcD,AYbJ,ACsBIS,AdjBI,EciBJA,IbTI6B,EAAE,CGnBGQ,AKMA+D,AKsBF,CTlBCjE,ASkBAiD,CV5BJ,AHmBK1D,ADRA,ECQE,CGnBGW,CJWDtD,CIXT,AHmBU6C,ADRA,ESLV,ARaJ,AaSA,CAAiB,AdjBA,CciBjB,AdjBI,CSLiB,CKsBDoI,AdjBAjL,CSLhB,ATKiB,CKDC,CCCjBiB,CNAmB,CKDC,AODpByH,CPCD,ASkBsB,CAAC9H,EdjBER,EYFlB,CNEG,CQiBM,GAAc,CAAlC,EAAqC2O,CdjBb,CAAiBnO,MAArC,EAA6CZ,CAAC,IAAI,IciBE,CAACU,AdjBEC,KciB3D,EAAgEoO,QdjB5D,EACA,ScgB+E,CAACnO,MAApF;AV3BI,AEWAK,AGLA,ARaJ,AaSAA,AFnBD,ATHK,AHMI,EcgBRA,IRjBIA,ALQA8B,EAAE,CGnBGxC,AKMA+G,AKsBF,AXtBE7D,CMAL,AKsBIkB,CbTCjC,EKRE,AGLEsE,ARaF,AWVL,AZGO,CMDDxC,CFXR,ADMA,CFaU5B,CDPG7C,CIZC,AHmBlB,AWVWqI,ATHO,AHMA,ESNd,AKsBJ,CAAmB,AXtBf,AHMiB,CcgBrB,AFnBM,AZGE,CIZelF,AEWnB,AMFYwF,CEmBMuC,AdhBElL,CAAC,EYHnB,CAAP,AZG6B,EcgBA,CAACa,CV5BX,CAAeL,AJYAH,IcgBX,EV5BlB,CU4BgC,CAApC,EAAuC2O,CdhBX,CAAiBrO,KAArC,EAA4CX,CAAC,IAAI,KcgBC,AdhBIU,CcgBHC,KAA3D,EAAkEqO,MdhB1D,EACA,Wce6E,CAACnO,MAAtF;AV3BI,ACSA,ACEAK,AGLA,ARaJ,AYdJ,ACuBC,AFnBE,ATHK,AHOQF,CcShB,KRXQE,GFXKT,AKMA+G,ARaFjF,AEbEoB,CHOG3C,CKJH,ECEE,ALQA,CKRC2D,ALQAjC,CGnBR,ACSSmD,AIHT,GLNc,AKMA,ARaX,CQbH,ARaa9C,CEbb,CFae,EGnBII,ADMA,AHOE,CCMLJ,ADNM9B,CMFtB,CDFoB,AJUP,CEbb,CGKsB,ANEd,CKJe,AJUF+B,ADNM,CKJ3B,CJUuB,CGnBT,ACSY6C,CDTGpF,AEW7B,ANE+BV,CCMPiD,EAArB,CAAP,EGnBI,ICSqC,GAAG,ELIb,CAAWhD,CAAX,CKJkBuF,CLIJtF,CAAd,EAAiB,KAAKS,GKJjD,EAA2DmF,SLIhC,EKJ2C,ALIL,EKJjE,EACA,CLGsEjF,eAA3C,CAAnB;AIZR,ACUI,ACCJM,AGLH,ARaJ,AWTC,ATJG,AHOQ,MMFLA,GFXKuC,GCUGL,CCCD,CAACiD,IFXR,GAAiB,CAAjB,CEWA,GDDsB,ACCF,GDDK,EEElBrC,EDDP,CDD8BqB,KEEf,IFFU,GAAiB,CAAjB,GAAuB,KAAKL,UAAL,CAAgBa,WAAhB,EAA6B3F,CAA7B,GAA+B,CAAhC,GAAqC,KAAK+E,eAArF;ADTJ,AEWA/D,ACAiB,AMPzB,ACuBA0N,AFjBA,AZGS,MMFD1N,AQgBF,CAACuO,EV3BMvP,CAAL,GAAS,AEWF,ACAkB+D,AOgBjC,CRhBgBqC,EQgBA,EV3BMnD,IEWd,CAAiB,IFXR,CAAezC,AEWFV,AQgBH,CRhBnB,CCA0C,CDAjB,ACAkBqB,KDAbpB,CAA9B,EAAiC,GFXxB,EEW6BC,CFXG,AEWzC,EAAyC,CCAhB,CAAoC,CHXfM,EEWAL,CAA9C,ACAyB,EAA0C6D,CHXnE,KGWyB,CAAR;AHVjB,ACSI,ACEJ9C,ACD4E,AOiBhF6N,AFjBJ,EEiBIA,IRhBI7N,GFXKf,CAAL,GAAS,ACSA,ACEF,CAACyE,GDFKkB,CDTC3C,IU2BE,CAACkG,CRhBjB,CAAmB,CQgBvB,CV3Ba,CAAezI,CCSC,ASkBFsF,CRhBClG,CAAxB,CDF4B,CAAxB,ACEuB,EDFI8F,GCEC7F,CAAhC,EAAmC,EFX1B,GAAiC,AEWFC,CDFG,ACE3C,AQgBJ,ERhB+C,CDFG,CDTCO,GEWCN,CDFG8E,ACEnD,EFXA,aCSI,EAAgEa,YAAY,EAA5E,EACA;ADTJ,ACUQ,ACCR5E,AORR,ACwBI8N,AFjBJ,AZEQ,EceJA,IRhBI9N,GFXKiD,IEWE,ANCAnD,CKFK+E,ACCJlB,CFXR,ICUiB,CCCjB,CQgBe,CTjBK,ASiBJwE,GAApB,CTjB4BnF,ALExB,EcesB0L,YTjBF,CAAUxM,ISiBlC,UTjBgD,GAAG,KAAK4B,UAAL,CAAgBa,WAAhB,EAA6B3F,CAA7B,GAAiC4F,YAA5D,EACRzC,cADQ,EAER,KAAK2B,UAAL,CAAgBa,WAAhB,EAA6B1C,SAFrB,EAGR,KAAK6B,UAAL,CAAgBa,WAAhB,EAA6BvC,EAHrB,EAIR,KAAK0B,UAAL,CAAgBa,WAAhB,EAA6BtC,EAJrB,EAKR,KAAKyB,UAAL,CAAgBa,WAAhB,EAA6BnC,MALrB,CAAZ;ADTR,ACeQkC,ACJR1E,AQgBJ2O,AFjBJ,AZEK,EceDA,IRhBI3O,GFXKwC,CCeGkC,ESYF,CRhBC,AQgBA1E,CTZK,ACJJqF,CFXR,ACeatF,GDfCyC,AEWd,CDIQ,CAAUqC,ASYZ,CAAV,GV3BI,CCeQ,AIXP0B,ENAE7D,IMAI8D,ENAE,IMAI;ALFb,ACcK,ACJLxG,AGPA,AKuBP,AXvBO,CWmBR,KRZQA,GFVKkD,CKGD,CNACnE,CAAL,CGOO,CAAC6E,CGPCuC,CNAC,KMAV,ANAe9D,ECHf,AEUA,AGPiB,ANAjB,CINW,EHGW,CAAtB;AACA,AEWArC,AGRA,AFNA,AJMA,MGQAA,GFXKmD,CGHD3C,AJMA,CMAC4B,ANAA,EGQE,AGRP,CHQQmB,EGRE,ANAAjB,CCHV,AKGWiE,CFNC,EHGI,CKGD,AFNA,CACX,CDaJ,AHRA,CMAkB,CLHlB,ADGmB,CILXxE,GEKejD,CAAb,ANAcyD,IMAI,KAAK6D,ANAd,EILf,CAAW,AJKqB,EAAjB,CAAnB,EILoBtH,CEKpB,AFLI,EAAmB,AJMlB,KINuBC,AJMlBwD,CINN,CADW,EAEX,IAAIR,CJKH,GAAiBV,IAAI,CAACsB,IAAL,CAAUD,CIL5B,CAAW,EJKqB,GILhB5D,AJKmB,CILxB,EJKO,CILE,GJKsB,CAAxB,CILOE,CAAzB,EAA4B,CJKoB,CAA9B,GILeD,AJKmB,CILpD,AJKkB,CIPP,EAGX,AJIwD,EAAvD,EIJGgD,eAAJ,CAAW,KAAKjD,CAAL,GAAS,KAAKE,CAAzB,EAA4B,KAAKD,CAAL,GAAS,KAAKE,CAA1C,CAHW,EAIX,IAAI8C,eAAJ,CAAW,KAAKjD,CAAhB,EAAmB,KAAKC,CAAL,GAAS,KAAKE,CAAjC,CAJW,CAAf;AHIH,ACaOkD,ACFJnC,AGRA,AFDA,AMFR,AC0BA,AXtBK,IUJD0H,EPWI1H,EDEImC,CSaHyM,ELvBIvM,CKuBb,CRfe,AGRP,AFDO7B,AMFF,AC0BAqO,CRfGvJ,EGRE,AIHF,CJGGkB,CHQX,CQeR,ERfuB,AGRA,AFDf,AMFR,AC0BqB,CTbK,EIVA,CTOjBxG,CKGqB,GIVCjB,CAAb,CJUiB+E,GCF3B,AGR4B,ATOlB7D,KSPuBmG,EJUX,CAAgBzB,MIVtC,ETO0B7F,GKGJ,ALHOC,EKGsBE,CAA/C,ALH4B;AKI/B,ACFDe,AGRA,AFDH,AMFL,AC0BIkO,AdhBIlO,EcgBJkO,ED1BEvG,EPWE3H,ANDAA,KSPKmG,AKuBA,ERfE,ANDA,CMCC3C,AQeAkK,AdhBAxN,EaVE,CJGV,EIHcmH,CJGA,AKuBA,CAACyH,ERff,ANDA,CSPA,ATOkB,EMCE,COXE,CAAClH,CPWvB,ANDuBzI,CYJnBsI,MAAM,IZIV,EaVc,AC0BN,AdfJ,CaXkC,AC0BDmH,GAA7B,CAAZ,AdfahP,MaXK,CAAtB,EbWY,CAAeK,cAAf,EAA+BnB,CADnC,EAEI,KAAKc,SAAL,CAAeK,cAAf,EAA+BlB,CAFnC,EAGI,KAAKS,cAHT,EAII,KAAKE,eAJT,EAKIZ,CALJ,EAKOC,CALP,EAKU,KAAKS,cAAL,GAAsB,KAAKF,MALrC,EAK6C,KAAKI,eAAL,GAAuB,KAAKH,MALzE;AMEAS,AGRH,AIHL,AC2BI,AFrBD,AZSE,IafC6H,EPWE7H,AQgBE+O,ORhBK,CAAC5J,AQgBE,CD3BD,EC2BI6I,CD3BA3G,KPWb,EQgBqB,CRhBD,AOXC,CAACO,CC2BEmG,KRhBxB,KQgBJ,GD3BiB,CAAwB,SAAxB,CAArB;ARaQ,ACDA/N,AOVR,AC0BI,AFrBD,ICLG8H,EPUE9H,AQgBAgP,OTfOtK,ACDA,CAACa,AQgBA,GTfR,ASeW,CAAf,ED1BkB,EPUd,CAAiB,AOVA,GAAzB,GVCa7C,MAAM,EGSoB,KAAKwC,cAApC,EAAoD,CAApD,EAAuD,KAAKnG,CAAL,GAAS,KAAKE,CAAL,GAAO,CAAhB,GAAoB,EAA3E,EAA+E,IAA/E;ADEH,ACDGe,AOVR,ADKG,ATJK,IUDFkF,EPUElF,IMLD,CTJMjB,CAAL,CGSO,CAACoG,CMLJiC,CTJM,EUDE,GAAG,AVCA/E,CUDvB,ADKO,CNKC,AMLYoF,ATJZ,ECICrF,CEKmB,CMLrB,CAAJ,CRAUC,CQAc,GRAV,EEKT;AFJA,AEKArC,AOTR,ACyBI,AFrBA,ATJI,IUAJ+H,EPSI/H,AQgBA6O,IXzBI,CCIC/P,ADJA,CCIL,AUqBM,CRhBC,CAACyG,CQgBCwJ,AFrBN,CRAO3M,ADJAE,ECIV,EQAJ,ENKI,CAAiB,AQgBrB,AXzBI,CUAgB,CCyBG,AXzBA,EMAhBxD,AIAgB,CAA3B,EJAcC,ANAkBwD,GMAf,GHSqB,GHTX,EGSgBC,CHTC,CAAjB,CAAnB,GGSA,EAA2C,AHRtC,KGQ2CxD,AHRtCuD,CGQiC,GAAO,CAAlD,EAAqD,EHRhD,GGQqDxD,AHRpCsC,CGQ+B,GAAS,AHRpC,CAACsB,IGQwC1D,AHR7C,CGQwC,AHR9ByD,GGQqC,CAAhB,AHRjB,GGQqC,AHRlC,EGQvC,CHRsB,CGQuD,GHR/B,CGQ9C,AHRsB,KAA8B,CAA9B,GAAkC,CAAlC,GAAsC,CAAvD;ACIL,AEKA1C,AGTA,AIAR,ACyBQ,AFrBJ,ATHC,IUDDiF,EPSIjF,CMPL,CEuBWiP,ELzBF,CLIClQ,AKJA,CLIL,CEKO,AMLL,CNKMoG,COTD,CTIG9C,AKJA8D,CGIJ,CRAN,ASJU,CAAlB,ECyB2B,CLzBnB,AGIWgB,CNKX,CGTkB,AKyBI0H,ERhBF,AMLd,CAAUpH,GEqBY,CRhB5B,AMLM,CAAJ,CEqB6BuG,CFrBR,OEqBvB;AVpBH,AEKGhO,AGTI,AIAZ,ACyBQgP,AFrBJ,ICJAhH,ACyBIgH,ERhBAhP,MQgBQ,CRhBD,AGTElB,CHSDyG,AGTJ,CKyBOlE,AFrBR,CCJK,CJAKvC,CAAT,CIAO,ACyBI,CDzBvB,ACyBwBwO,AFrBRlG,ENKR,CAAiB,EDAhB1E,ASgBU,CAAWuM,CFrBnB,CAAaxH,GPKT,COLJ,INK2B,AMLN,GEqBW,CFrBvC,CNKuCxC,CQgBG8I,URhBtC,AQgBW,CAAX,CRhBgD,KAAK/O,CAAL,GAAO,CAAP,GAAW,KAAKA,CAAL,GAAO,CAAlE,EAAqE,KAAKD,CAAL,GAAS,KAAKE,CAAL,GAAO,CAAhB,GAAoB,EAAzF,EAA6F,IAA7F;ADCA,ACAAe,AGTI,AICZ,ACwBK,AFrBD,ICHAiI,EPQIjI,IDAIoC,EAAE,CCAC,AGTErD,CHSDoG,AGTJ,CJSK,CAAT,CITapG,CAAT,GICS,EPQb,CORgB,EPQI,EORAmJ,KAAJ,EAAxB,IPQQ;ADCA,ACAAlI,AGTC,AICTiI,MPQQjI,IDAIqC,EAAE,CCAC,CAACkD,CDAC,EQRA,CAAC4C,CRQV,EQRR,CPQQ,CAAiB,CORDC,MVFV1F,IGUsB,EHVhB,GGUqBA,IAAjC,CORR,CPQ+C,KAAK1D,CAAL,GAAS,KAAKA,CAAL,GAAO,CAAvD,EAA0D,KAAKD,CAAL,GAAS,KAAKE,CAAL,GAAO,CAAhB,GAAoB,EAA9E,EAAkF,IAAlF;AACAe,AORR,ACwBI,AFtBD,ATJK,IUEJqI,EPQIrI,CQgBC,IAAIU,AX1BA5B,CW0BC,AX1BN,CGUO,AMNL,CNMM8E,CQgBC,CAAb,AX1Bc,EW0BElD,AFtBjB,CEsBkB,EX1BE0B,CW0BC4M,CRhBhB,AHVA,ECIChP,ESFkB,GAAG,ACwB1B,EAA8BU,CAAC,CVtBjBgC,ASFgBwF,CCwB9B,EAAmC,EDxBT,CTEN,CSFxB;ATGQ,ACKA,ACCA,AGVA,AIERG,ACwBQ2F,AFtBL,ATJK,IW0BAA,MVtBI5K,ACKA/B,AFTA,CGUC2D,AGVAlG,ANAA,CMAL,AK0BQ,ETjBA,CAAC6D,ASiBEqL,CL1BD,ANAA1L,GCIG,ACKT,CAAUI,ACCd,CAAeE,AGVAR,CLICf,CKJhB,AIEe,ACwBI,AX1BnB,CESkB,AQPF8G,CPQhB,AHVmB,CCIC,AEMAnI,AQgBE+N,CVtBDpL,ACKA,AQP7B,GAA8B2F,AVFE/F,CCIR,ACKZ,CDLsBG,CEM1B,EDD6B,ACCA,CFNC,ACK1B,ACCJ,AQgBA,ERhBgC,CFNC,ADJd,CESe,CAAlC,CFToC,CCIpB,ACKqB,ACCA1D,AHVlB,CCInB,AEMgC,AHVhC,GGUuC,CAAP,CHT3B,EGSsC,GHTjCuD,CUClB,CPQwDyC,OHT3C,EGSsC,CAAehG,AHTpCqC,CGSqB,GAAiB,AHTlC,CGS1B,AHT2BsB,EGSoC,EHTzC,CAAUD,EGSoC3D,CAApE,CHToC,GAAG,GAAjB,IAAwB,CAAxB,KAA8B,CAA9B,GAAkC,CAAlC,GAAsC,CAAvD;AESD,ACCP,AGVG,AIER,ACwBQ,AXzBH,IUCDwJ,OJFSxJ,CAAL,CJSS,GITC,CJSG2B,CAAC,GAAG,AITF2B,CK0BR2L,CL1BP,GJSsB1J,CQPH,GAAG,ACwBtB,EAAiBgG,EDxBSpC,KAAJ,CROL,ASiBjB,CTjBqCvH,AQP7C,MROyB,GAA6B,CAA1C,EAA6CD,CAAC,IAAI,CAAlD,EAAqDA,CAAC,EAAtD,EAA0D;ADL9D,ACMQ,AITX,AIEL6H,ACwBK,UVvBOnF,ICMQ,KDNC,ACMIkB,GDND,CSDD,CAAC6D,GTCKjF,ASD7B,GAA8BsF,GROV,CAAoB9H,CAApB,EAAuB5B,CAAvB,GDNZ,ACMuC,EDNF,GCMOwF,UQPpD,IRO+C,CAAoB5D,CAApB,EAAuB1B,CAAlD,IAAuD,KAAKmF,SAAhE,EAA2E;ADL/E,ACMQ,AQPpB,IAAIsE,QTCYpF,KCMSoB,YDNQ,ASDJ,EROT,CDNiB,ASDL,EROU,EQPNyD,CTCMjG,ECMtB,EQPY,EAAhC,GTCqC,CAAe5C,sBAAf,GAAwC,KAAK4C,SAAL,CAAe7C,qBAAxD,GAAiF,CAAzG;AACA,ACMK,AQPjBqJ,ACwBI,aVvBalG,KUuBRyH,IVvBG,EUuBR,CVvB0B,ASDL,CAAC7B,ACwBT0G,GDxBjB,AVHcnM,CCIqBH,ESDHmG,ACwB5B,GX3BgB,ICIU,IAAkBrF,eSDhD,ETC6B,GAAwC,CAAxC,GAA4C,KAAKd,SAAL,GAAiB,CAA9E;AACA,ASDZ,ACwBI0L,AX3BI,EW2BJA,EDxBAtF,OVHS7J,CW2BC,AX3BN,CCISoE,EUuBA2L,CX3BC,KW2Bd,AX3BmBzM,EAAf,EMACpC,AIGgB,ETCb,CSDgB,ETCMoD,ESDF8E,EJHd,GIGU,ETChB,ASDZ;ATES,ACKO,AITR,AIGRS,ACwBC,AX3BO,UMAI,ANAA,CMAC,ANAA,GESO,EITFxC,ANAA7D,GESOgC,EQNJ,CJHb,AIGc6D,CVHd,CMAkB,CIG1B,AVH2B,GUGCS,EVHIrG,GESZ,CAAoB7B,CAApB,EAAuB5B,CAAvB,CFTO,GESqB,AFTJ,CES5B,AFTW,CAAnB,CES2C,GQNnD,CVFa,KAAKyD,SAAL,GAAiBlB,IAAI,CAACsB,IAAL,CAAUD,IAAI,GAAG,GAAjB,IAAwB,CAAxB,KAA8B,CAA9B,GAAkC,CAAlC,GAAsC,CAAvD;AESO,AITZ1C,AIGR,AVFK,IUED6I,EJHI7I,OAAO,CAACuD,GJSSkB,KQNH,CJHd,EIGiB,IAAIyD,ERMT,GAAsB,AQNjB,EAAzB,ERMoB;ADLZ,ACMS,AITT,AIGRW,ACwBA,SAASyB,CL3BG7D,CLGCxE,GKHG,GAAGjC,AK2BnB,CDxBkB,CAACmI,CTAX,AUwBY,CVxBGvF,CSAvB,EJH0B,CLGlB,AKHmB8D,AIGFoC,CTAG9I,OAApB,EAA6B,KAAKuC,GSA1C,EJHmB,CAA6B,GLGxC,EAA6C,AKHAzD,CAAlC,EAAqC,ELGEA,CAAlD,EAAqD,AKHAC,CAA1C,EAA6C,CAA7C,CLG+CA,CAA1D,AKH2D,KAAKD,CAArD,EAAwD,KAAKC,CAA7D,EAAgE,KAAKgH,OAArE,CAAX;ALIA,AKHAU,AIIR,ACuBIqH,EAAAA,EDvBE/E,EJJEtC,ILGI,AKHA,CAACE,GIIG,CTDCxD,ESCE,ICuBI,CAACgF,CVxBhB,AKHA,CAAkB,CLGC,AKHnB,AK2BJ,EL3ByB,CK2BCuG,EVxBEpL,EKHE0C,KAA1B,GLGmB,CAAgBhG,IUwBvC,GVxBuB;AACnB,ACKQ,AIRRyG,AIINuC,ACuBEyE,EDvBFzE,ACuBEyE,IL3BIhH,GIIC,CJJG,CLGCtD,AKHAwD,AIIF,ACuBE,CAACuI,ETnBM,CQLD,ECwBf,EVxBI,ACKiB5K,GDLD,CKHhB,CAAkB,CAAlB,ANACtE,ECGD,AKHqB,MJQT,CAAoBU,AIRhC,ANAU,CEQE,EAAuB3B,CAAvB,GAA2B,KAAKuF,cAAL,CAAoB5D,CAApB,EAAuBzB,CAAlD,IAAuD,KAAKmF,UAAhE,EAA4E;ADJvF,ACKe,AIRZpE,AIINiJ,ACuBEyE,AX3BI,EUINzE,ACuBEyE,IL3BI1N,EIIA,ACuBE,CAACmP,CDvBD,CVJGlN,CUEM,CJFJ,CAACkD,GJQSX,GFRjB,CAAe5B,CEQH,CIRZ,EJQyB,AFRzB,CMAoB6D,ANAAzG,GEQR,ASmBhB,CL3BI,AK2BwBkO,GX3BxB,EAA6B,IW2BjC,CX3BsC3L,SAAlC,EAA6C,KAAKzD,CAAlD,EAAqD,KAAKC,CAA1D,EAA6D,KAAKO,MAAlE,EAA0E,KAAKC,MAA/E;AESS,AIRTS,AIINkJ,ACuBD,AX3BI,EUIHA,IJJMlJ,EIIA,EAAE,GJJK,CAAC0F,AICG,GJDX,CAAY,KAAK5G,CAAjB,EAAoB,KAAKC,CAAzB,EAA4B,KAAKmH,UAAjC,EAA6C,CAA7C,EAAgD,IAAE7E,IAAI,CAACsE,EAAvD,EAA2D,KAA3D;AJSK,AIRL3F,AIINmJ,EAAAA,IJJMnJ,EIIA,EAAE,GJJK,CAACqF,IAAR;AACArF,AIDW,AC4BnB,CD5BA,KJCQA,GK2BC6J,IL3BM,CAACjG,SAAR,GK2BR,GAA6B,EVzBd5D,SAAS;AAChBA,ACKIoC,AIPP,AIKL,ACsBE4L,EAAAA,EDtBI5E,ETHEpJ,ECKIoC,EAAE,ASoBJ,GVzBK,ACKE,AQFF,ACsBFgN,CVzBG7L,ESGE,EREIkB,KDLd,CUyBgB,CAAC4K,GAAZ,EAAX,ETpBe,GAAsBjN,EAAtB,GAA2B,CAACA,CFDnBS,CECd,QFDuB;ACH3B7C,ASGNqJ,ACsBA4E,AXrBM,EUDN5E,ACsBA4E,IVzBMjO,KDIK,CWqBD,CVzBG,ASGF,CTHGwD,CSGD,ACsBAwK,AXrBEtN,CAAC,GUFA,AVEG,CAAb,EAAgBA,CCJhB,AUyBN,AXrBuB,GCJG,ADIAmC,GCJpB,IDI2B,CAAClC,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;ACHzCV,ACII,AQDVsJ,ACsBA4E,AXrBU,EUDV5E,ACsBA4E,IVzBMlO,KUyBG,CDtBC,AVCI,CCJD,ACIC,CDJAyD,ASGF,ACsBA,GTrBM/C,AFAC5B,CUHH,ACwBhB,AXrBc,CEAK,EFAI,CEAD,CAAZ,EDJJ,ACImB4B,CFAG1B,CEAF,AFAZ,CCJc,ECIC,AFAG6D,KEAEyB,EDJ5B,ADIiC,CAAC5D,CAAD,CAAP,CAAW5B,CAA7B,IAAkC,GEAnB,CAAoB6B,CFAI7B,CAAL,GAAS+D,CEA/C,EAA+CnC,EAAC,EAAhD,AFAsD,CAACA,CEAH,AFAE,CAAP,CAAW5B,CAAX,GAAe+D,OAAO,CAACnC,CAAD,CAAP,CAAW1B,CAArE,IACG,KAAKD,CAAL,IAAU8D,OAAO,CAACnC,CAAD,CAAP,CAAW3B,CAAX,GAAe8D,OAAO,CAACnC,CAAD,CAAP,CAAWzB,CAAX,GAAe,CAD/C,EACkD;ACJtDe,ACIQ,AQDduJ,ACsBA,AXpBc,EUFdA,ITHMvJ,OAAO,CAAC0D,ASGF,CRCOY,CQDL,CVEO,CWoBhB0F,EDzBW,EVKF,ECLR,AUyBN,CVzByB,ICIX,CDJgBlL,ACII4B,CDJ5B,AKQOoC,CJJC,CDJmB,CCIIgC,IDJC/F,ACIxB,CDJR,ACIoCqD,AIIrB,ELRoB,ACI3B,EAAgCC,EAAhC,CDJgCrD,CAAxC,EAA2C,KAAKC,CAAhD;AACAe,ACIK,AIGY,AIJvBwJ,ACsBAoF,AXpBW,EUFXpF,ACsBAoF,GAAG,CVzBG5O,GSGC,EAAE,ETHI,AKOkB+C,AIRf,CTCFY,MAAR,UKO0C,CAACxD,iBAAlB,CAAoC,IAApC,EAA0C2C,MAA1C,CAAR;ALNjB9C,ACIC,AIE2E,AIHlFiJ,ACsBD,AXpBQ,EUFPA,ITHMjJ,CCZA,CQeA,EAAE,GTHK,ACIA,CDJC4D,ASFE,STEV;AACH,ACIO,AQDV6F,EAAAA,OAAO,EAAE,ERCM,AQPC,IROG/I,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,KAAK4D,cAAL,CAAoB3D,MAAxC,EAAgDD,GAAC,EAAjD,EAAqD;AACjD,AQDdwI,ACuBF,AXtBQ,EUDNA,MAAM,CCuBCyF,CDvBC,GVCK,CURG,CRQGrK,ISsBrB,AXtBQ,CWsBYtE,OAApB,ETtBgB,ASsBa,CTtBOU,GAApB,EAAuBoE,IAAvB,CAA4B,CAA5B,EAA+B,CAA/B;AACH,AQDX4E,ACuBE1J,AXtBC,EUDH0J,ACuBE1J,GDvBC,EAAE,ECuBI,CAACuD,SAAR,MLrBK9B,IAAIC,IAAIC,IAAIC,IAAI;AJAhB,AICD,AIXU,ACgCd5B,CDhCJ,CCgCIA,OAAO,CLrBC6B,AKqBA4B,ELrBE,GAAG/B,EAAE,GAAGE,CKqBlB,CLrBI,EKqBkB,MAAtB,CV5BWkB,QAAQ;AAAE,ACOpB,AICG,AIDR,ACsBI9C,EAAAA,EDtBE2J,KCsBK,CLrBC7H,AKqBA0B,ELrBE,CLRmBT,EKQhBtB,CIDC,CJCC,EIDE,ACsBjB,CLrBkBE,EAAd,AKqBgB,CDtBCuF,ECsBrB,KV7B8C,CAAC/G,aSO9B,EAArB,ETPiC,CAAoC,IAApC,EAA0C2C,MAA1C,CAAR;AAA2D,AKS5E,AKqBJ9C,EAAAA,OAAO,CAACsF,GLrBGjE,CKqBX,GLrBe,AKqBA,CLrBCG,IAAL,CAAUK,EAAE,GAAGA,EAAL,AKqBrB,CXvBWiB,EMEoBhB,EAAE,GAAGA,CNFjB,CMER,CAAP;AACH,AIDE,ACsBH9B,AXxBqB,EWwBrBA,ODtBY4J,ACsBL,CAACkD,GXxBqB/J,GUE1B,CAAiB8G,ICsBpB,GAAsB,MXxBwB,CAAC1J,CWwB/C,EDtBG,EAAoC,YVFV,CAAoC,IAApC,EAA0C2C,MAA1C,CAAR;AUGvB,ACsBE9C,AXzBgF,EWyBhFA,IDtBE+I,GCsBK,CAACgE,MDtBI,CAAC7D,MAAX,ACsBF,ETvBKlJ,CSuBmB,CDtBD,ACsBvB,IDtBE,GRDY0C,CQETqG,KRFe,KQEL,CAACC,OAAX,IAAsB,IADzB,IAEGD,UAAU,CAACI,MAAX,IAAqB,IAFxB,IAGGJ,UAAU,CAACE,MAAX,CAAkBtI,MAAlB,IAA4B,CAHnC,EAGsCkJ,iBAAiB,GAHvD,KAIKC,KAAK,CAAC,qBAAD,CAAL;ARHC,AQIP,ACkBG9J,EAAAA,OAAO,CAACgN,CTtBC,IAAItM,CAAC,GAAG,CAAb,EAAgBA,CAAC,ASsBrB,CVlEc,EC4CU,ASsBA,CAAxB,ITtB6B4D,cAAL,CAAoB3D,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AD3CrD,AC4CI,ASsBRV,EAAAA,OAAO,CVlECQ,AUkEAyM,GTtBK3I,KD5CG,EUkEhB,CVlEmB,CAAE,CUkEA,CLzCL,CKyChB,CVlEyBvC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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["export default class Sprite {\r\n    constructor(x, y, w, h) {\r\n        this.x = x; \r\n        this.y = y; \r\n        this.w = w;\r\n        this.h = h;\r\n    }\r\n}","import {default as Sprite} from './sprite.js'\r\n\r\nexport default class SpriteMap {\r\n    constructor(sourceImage, countOfPositionsWidth, countOfPositionsHeight, scaleX, scaleY) {\r\n        this.sourceImage = sourceImage;\r\n        this.countOfPositionsWidth = countOfPositionsWidth;\r\n        this.countOfPositionsHeight = countOfPositionsHeight;\r\n        this.widthOneSprite = sourceImage.width / countOfPositionsWidth;\r\n        this.heightOneSprite = sourceImage.height / countOfPositionsHeight;\r\n        this.scaleX = scaleX;\r\n        this.scaleY = scaleY;\r\n\r\n        this.w = this.widthOneSprite * this.scaleX;\r\n        this.h = this.heightOneSprite * this.scaleY;\r\n\r\n        this.positions = this._positions();\r\n    }\r\n\r\n    _positions() {\r\n        let listOfSprites = [];\r\n        for (let y = 0; y < this.sourceImage.height; y += this.heightOneSprite) \r\n        {\r\n            for (let x = 0; x < this.sourceImage.width; x += this.widthOneSprite)\r\n            {\r\n                listOfSprites.push(new Sprite(x, y, this.widthOneSprite, this.heightOneSprite));\r\n            }\r\n        }\r\n        return listOfSprites;\r\n    }\r\n\r\n    draw(context, numberPosition, x, y) {\r\n        context.drawImage(this.sourceImage, \r\n            this.positions[numberPosition].x, \r\n            this.positions[numberPosition].y, \r\n            this.widthOneSprite, \r\n            this.heightOneSprite, \r\n            x, y, this.widthOneSprite * this.scaleX, this.heightOneSprite * this.scaleY);\r\n    }\r\n}","export function collisionFunction(firstObject, secondObject) { //формула Хари\r\n    return objectIntersectsObject(firstObject, secondObject)\r\n        || objectIntersectsObject(secondObject, firstObject);\r\n}\r\n\r\nfunction objectIntersectsObject(firstObject, secondObject) {\r\n    let vertexThis = firstObject.vertexes;\r\n    let vertexOther = secondObject.vertexes;\r\n    for (let i = 0; i < vertexThis.length; i++) {\r\n        let x0 = vertexThis[i].x;\r\n        let y0 = vertexThis[i].y;\r\n        for (let j = 0; j < vertexOther.length; j++) {\r\n            if (dist(vertexThis[i].x, vertexThis[i].y, vertexOther[j].x, vertexOther[j].y) <= 5) return true;\r\n            let xA = vertexOther[j].x;\r\n            let yA = vertexOther[j].y;\r\n            let xB = vertexOther[j + 1 == vertexOther.length ? 0 : j + 1].x;\r\n            let yB = vertexOther[j + 1 == vertexOther.length ? 0 : j + 1].y;\r\n            let t = ((x0 - xA) * (xB - xA) + (y0 - yA) * (yB - yA)) / (Math.pow(xB - xA, 2) + Math.pow(yB - yA, 2));\r\n            if (t < 0) t = 0;\r\n            if (t > 1) t = 1;\r\n            let l = Math.sqrt(Math.pow(xA - x0 + (xB - xA)*t, 2) + Math.pow(yA - y0 + (yB - yA) * t, 2));\r\n            if (l <= 2) return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction dist(x1, y1, x2, y2) {\r\n    let o1 = y1 - y2; \r\n    let o2 = x1 - x2;\r\n    return Math.sqrt(o1*o1 + o2*o2);\r\n}","export default class Vertex {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}","import * as collision_manager from \"../collision_manager/collisionManager.js\";\r\nimport {default as Vertex} from \"../collision_manager/vertex.js\";\r\n\r\nexport default class Player {\r\n    constructor(spriteMap, beginPositionX, beginPositionY) {\r\n        this.x = beginPositionX; \r\n        this.y = beginPositionY;\r\n        this.vx = 5; \r\n        this.vy = 3;\r\n        this.spriteMap = spriteMap;\r\n        this.scaleX = this.spriteMap.scaleX;\r\n        this.scaleY = this.spriteMap.scaleY;\r\n        this.w = this.spriteMap.widthOneSprite * this.scaleX; \r\n        this.h = this.spriteMap.heightOneSprite * this.scaleY;\r\n        this.isWalks = false;\r\n        this.direction = 1; //1 - down, 4 - left, 7 - right, 10 - up\r\n        this.health = 100;\r\n        this.underBunker = true;\r\n    }\r\n\r\n    moveUp(time) { \r\n        this.y -= this.vy; \r\n        if (!this.isWalks) this.direction = 10;\r\n        else this.direction = Math.ceil(time / 100) % 2 === 0 ? 9 : 11;\r\n    }\r\n    moveDown(time) { \r\n        this.y += this.vy;\r\n        if (!this.isWalks) this.direction = 1;\r\n        else this.direction = Math.ceil(time / 100) % 2 === 0 ? 2 : 0;\r\n    }\r\n    moveRight(time) { \r\n        this.x += this.vx; \r\n        if (!this.isWalks) this.direction = 7;\r\n        else this.direction = Math.ceil(time / 100) % 2 === 0 ? 8 : 6; \r\n    }\r\n    moveLeft (time) { \r\n        this.x -= this.vx; \r\n        if (!this.isWalks) this.direction = 4;\r\n        else this.direction = Math.ceil(time / 100) % 2 === 0 ? 5 : 3;\r\n    }\r\n\r\n    draw(context) {\r\n        this.spriteMap.draw(context, this.direction, this.x, this.y, this.scaleX, this.scaleY);\r\n    }\r\n\r\n    get vertexes(){\r\n        let vertexes = [ new Vertex(this.x, this.y), new Vertex(this.x + this.w, this.y), \r\n            new Vertex(this.x + this.w, this.y + this.h),\r\n            new Vertex(this.x, this.y + this.h) ];\r\n        return vertexes;\r\n    }\r\n\r\n    intersectsWithBunkers(objects) {\r\n        for (let i = 0; i < objects.length; i++) {\r\n            if (this.x + this.w > objects[i].x && this.x < objects[i].x + objects[i].w \r\n                && this.y <= objects[i].y + objects[i].h / 2) { \r\n                return \"top\";\r\n            }\r\n        } \r\n        return \"none\";\r\n    }\r\n\r\n    intersects(object) { return  collision_manager.collisionFunction(this, object);}\r\n}","import * as collision_manager from \"../collision_manager/collisionManager.js\";\r\nimport {default as Vertex} from \"../collision_manager/vertex.js\";\r\n\r\n export default class Alien {\r\n    constructor(x = 0, y = 0, spriteMap, vx, vy, health) {\r\n        this.x = x; \r\n        this.y = y;\r\n        this.spriteMap = spriteMap;\r\n        this.vx = vx;\r\n        this.vy = vy;\r\n        this.scaleX = this.spriteMap.scaleX;\r\n        this.scaleY = this.spriteMap.scaleY;\r\n        this.direction = 1;\r\n        this.w = this.spriteMap.widthOneSprite * this.scaleX; \r\n        this.h = this.spriteMap.heightOneSprite * this.scaleY;\r\n        this.bullet;\r\n        this.health = health;\r\n\r\n        this._timeAnimation = 0;\r\n        this.isDamage = false;\r\n    }\r\n\r\n    get vertexes(){\r\n        let vertexes = [ new Vertex(this.x, this.y), new Vertex(this.x + this.w, this.y), \r\n            new Vertex(this.x + this.w, this.y + this.h),\r\n            new Vertex(this.x, this.y + this.h) ];\r\n        return vertexes;\r\n    }\r\n\r\n\r\n    move(vx, vy) {\r\n        this.x += vx;\r\n        this.y += vy;\r\n    }\r\n\r\n    draw(context, time) {\r\n        let roundTime = Math.ceil(time / 1000);\r\n        if (roundTime > this._timeAnimation) {\r\n            let countOfDirections = (this.spriteMap.countOfPositionsHeight * this.spriteMap.countOfPositionsWidth) - 1;\r\n            this.direction = (this.direction >= countOfDirections) ? 0 : this.direction + 1;\r\n            this._timeAnimation = roundTime;\r\n        }\r\n        this.spriteMap.draw(context, this.direction, this.x, this.y);\r\n        if (this.isDamage) this.drawDamage(context);\r\n        this.isDamage = false;\r\n    }\r\n\r\n    drawDamage(context) {\r\n        context.beginPath();\r\n        context.lineWidth = \"5\";\r\n        context.strokeStyle = \"#ff3333\";\r\n        context.strokeRect(this.x, this.y, this.w, this.h);\r\n        context.stroke();\r\n        context.closePath();\r\n    }\r\n    intersects(object) { return  collision_manager.collisionFunction(this, object);}\r\n}\r\n","import {default as Alien} from './alien.js'\r\n\r\nexport default class SquadAliens { \r\n    constructor(enemyTypes, countOfMonsters, colorBullet, zoneX, zoneY, zoneWidth, zoneHeight){\r\n        this.enemyTypes = enemyTypes;\r\n        this.countOfTypes = enemyTypes.length;\r\n        this.countOfMonsters = countOfMonsters;\r\n        this.colorBullet = colorBullet;\r\n        this.zoneX = zoneX;\r\n        this.zoneY = zoneY;\r\n        this.zoneWidth = zoneWidth; \r\n        this.zoneHeight = zoneHeight;\r\n        this.listOfMonsters = this._setListOfMonster();\r\n        this.isWin = false;\r\n        this.directionRight = true;\r\n    }\r\n\r\n    _setListOfMonster() {\r\n        let list = [];\r\n        let beginPositionY = 0;\r\n        for (let typeMonster = 0; typeMonster < this.countOfTypes; typeMonster++)\r\n        {\r\n            let beginPositionX = this.zoneWidth / 2 - ((this.enemyTypes[typeMonster].w/2) * this.countOfMonsters);\r\n            for (let numberMoster = 0; numberMoster < this.countOfMonsters; numberMoster++)\r\n            {\r\n                let enemy = new Alien(beginPositionX + this.enemyTypes[typeMonster].w * numberMoster,\r\n                    beginPositionY,\r\n                    this.enemyTypes[typeMonster].spriteMap, \r\n                    this.enemyTypes[typeMonster].vx,\r\n                    this.enemyTypes[typeMonster].vy, \r\n                    this.enemyTypes[typeMonster].health);\r\n                list.push(enemy);\r\n            }\r\n            beginPositionY += this.enemyTypes[typeMonster].h;\r\n        }\r\n        return list;\r\n    }\r\n\r\n    move(time) {\r\n        let vx = 1; \r\n        let vy = 0.01;\r\n        if (Math.ceil(time / 1000) % 2 == 0) {\r\n            for (let i = this.listOfMonsters.length - 1; i >= 0; i--) {\r\n                if (this.listOfMonsters[i].x + this.listOfMonsters[i].w >= this.zoneWidth) {\r\n                    this.directionRight = false;\r\n                }\r\n                if (this.listOfMonsters[i].x <= 0) {\r\n                    this.directionRight = true;\r\n                }\r\n                if (this.listOfMonsters[i].y + this.listOfMonsters[i].h >= this.zoneHeight) {\r\n                    this.isWin = true;\r\n                }\r\n            }\r\n            vx = this.directionRight ? vx : -vx;\r\n            for(let i = 0; i < this.listOfMonsters.length; i++) {\r\n                this.listOfMonsters[i].move(vx, vy);\r\n            }\r\n        } else {\r\n            for (let i = 0; i < this.listOfMonsters.length; i++) {\r\n                this.listOfMonsters[i].move(0, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    draw(context, time) {\r\n\r\n        for (let i = 0; i < this.listOfMonsters.length; i++) {\r\n            this.listOfMonsters[i].draw(context, time);\r\n        }\r\n    }\r\n}\r\n","export default class ItemBar { \r\n    constructor(x, y, w, h, faceRobot) {\r\n        this.x = x; \r\n        this.y = y; \r\n        this.w = w; \r\n        this.h = h;\r\n        this.faceRobot = faceRobot;\r\n        this.health = 0; \r\n        this.countOfKill = 0;\r\n        this.countOfBunkers = 0;\r\n        this.time = 0;\r\n    }\r\n\r\n    update(health, countOfKill, countOfBunkers, time) {\r\n        this.health         = health;\r\n        this.countOfKill    = countOfKill;\r\n        this.countOfBunkers = countOfBunkers;\r\n        this.time           = time;\r\n    }\r\n\r\n    draw(context) {\r\n        context.beginPath();\r\n        context.strokeStyle = \"red\";\r\n        context.fillStyle = \"black\";\r\n        context.fillRect(this.x, this.y, this.w, this.h);\r\n        context.strokeRect(this.x, this.y, this.w, this.h);\r\n        context.stroke();\r\n        context.fill();\r\n        context.closePath();\r\n        \r\n        context.beginPath();\r\n        context.font = \"32pt Impact\";\r\n        context.lineWidth = \"1\";\r\n        context.fillStyle = \"green\";\r\n        context.fillText(\"Bunkers: \" + this.countOfBunkers, 0, this.y + this.h/2 + 20, 1500);\r\n        context.fillStyle = \"#00cccc\";\r\n        context.fillText(\"Health: \" + this.health, this.w/4, this.y + this.h/2 + 20, 1500);\r\n        context.fillStyle = \"red\";\r\n        context.fillText(\"Killed: \" + this.countOfKill, this.w/2 + this.w/8, this.y + this.h/2 + 20, 1500);\r\n        context.fillStyle = \"darkmagenta\";\r\n        context.fillText(\"Time: \" + this.time, this.w - this.w/6, this.y + this.h/2 + 20, 1500);\r\n        context.closePath();\r\n        this.faceRobot.draw(context, 0, this.w/2 - this.faceRobot.w/2, this.y);\r\n    }\r\n}","import * as collision_manager from \"../collision_manager/collisionManager.js\";\r\nimport {default as Vertex} from \"../collision_manager/vertex.js\";\r\n\r\nexport default class Bunker {\r\n    constructor(spriteMap, beginPositionX, beginPositionY) {\r\n        this.spriteMap = spriteMap; \r\n        this.x = beginPositionX;\r\n        this.y = beginPositionY;\r\n        this.w = this.spriteMap.w;\r\n        this.h = this.spriteMap.h;\r\n    }\r\n\r\n    draw(context) {\r\n        this.spriteMap.draw(context, 0, this.x, this.y, this.spriteMap.scaleX, this.spriteMap.scaleY);\r\n    }\r\n    get vertexes() {\r\n        let vertexes = [\r\n            new Vertex(this.x, this.y), \r\n            new Vertex(this.x + this.w, this.y),\r\n            new Vertex(this.x + this.w, this.y + this.h),\r\n            new Vertex(this.x, this.y + this.h)\r\n        ];\r\n        return vertexes;\r\n    }\r\n    intersects(object) { return  collision_manager.collisionFunction(this, object);}\r\n}","export default class Aim {\r\n    constructor(){\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n    draw(context) {\r\n        context.beginPath();\r\n        context.strokeStyle = \"white\";\r\n        context.arc(this.x, this.y, 10, 0, 2 * Math.PI, false);\r\n        context.stroke();\r\n        context.closePath();\r\n    }\r\n}","import * as collision_manager from \"../collision_manager/collisionManager.js\";\r\nimport {default as Vertex} from \"../collision_manager/vertex.js\";\r\nexport default class Bullet {\r\n    constructor(xBegin, yBegin, caliber, color, type) {\r\n        this.x = xBegin;\r\n        this.y = yBegin;\r\n        this.xBegin = xBegin;\r\n        this.yBegin = yBegin;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.caliber = caliber;\r\n        this.zoomBullet = caliber;\r\n        this.isFire = false;\r\n        this.color = color;\r\n        this.type = type;\r\n        this.coefSpeed = 30;\r\n        this.r = caliber;\r\n        this.damage = 5;\r\n    }\r\n    \r\n    fire(xEnd, yEnd) {\r\n        if (this.isFire) return;\r\n        this.vx = (xEnd - this.x) / this.coefSpeed;\r\n        this.vy = (yEnd - this.y) / this.coefSpeed;\r\n        this.isFire = true;\r\n    }\r\n\r\n    update(x, y) {\r\n        if (!this.isFire) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        this.x += this.vx;\r\n        this.y += this.vy;\r\n    }\r\n     \r\n    draw(context) {\r\n        if (!this.isFire) return;\r\n        context.beginPath();\r\n        let grad = context.createRadialGradient(this.x, this.y, 1, this.x, this.y, this.caliber);\r\n        grad.addColorStop(0, this.color);\r\n        grad.addColorStop(1, \"white\");\r\n        context.fillStyle = grad;\r\n        context.arc(this.x, this.y, this.zoomBullet, 0, 2*Math.PI, false);\r\n        context.fill();\r\n        context.closePath();\r\n    }\r\n\r\n    get left()      { return this.x - this.r; }\r\n    get right()     { return this.x + this.r; }\r\n    get top()       { return this.y - this.r; }\r\n    get bottom()    { return this.y + this.r; }\r\n\r\n    get vertexes() {\r\n        let vertexes = [new Vertex(this.left, this.y),new Vertex(this.x, this.top),new Vertex(this.right, this.y),\r\n            new Vertex(this.x, this.bottom), new Vertex(this.x, this.y)];\r\n        return vertexes;\r\n    }\r\n\r\n    intersects(object) { return  collision_manager.collisionFunction(this, object);}\r\n\r\n    dist(x1, y1, x2, y2) {\r\n        let o1 = y1 - y2; \r\n        let o2 = x1 - x2;\r\n        return Math.sqrt(o1 * o1 + o2 * o2);\r\n    }\r\n}","export default class AreaPlayer {\r\n    constructor(x, y, width, height) {\r\n        this.x = x; \r\n        this.y = y;\r\n        this.w = width;\r\n        this.h = height;\r\n    }\r\n    draw(context) {\r\n        context.beginPath();\r\n        context.strokeStyle = \"green\";\r\n        context.lineWidth = \"2\";\r\n        context.strokeRect(this.x, this.y, this.w, this.h);\r\n        context.stroke();\r\n        context.closePath();\r\n    }\r\n}","export default class AreaAlien { \r\n    constructor(x, y, width, height) {\r\n        this.x = x; \r\n        this.y = y;\r\n        this.w = width;\r\n        this.h = height;\r\n    }\r\n    draw(context) {\r\n        context.beginPath();\r\n        context.lineWidth = \"1\";\r\n        context.strokeStyle = \"yellow\";\r\n        context.strokeRect(this.x, this.y, this.w, this.h);\r\n        context.stroke();\r\n        context.closePath();\r\n    }\r\n}","export default class InputHandler {\n  constructor() {\n    this.down = {};\n  \tthis.pressed = {};\n  \tdocument.addEventListener(\"keydown\", e => {\n  \t\tthis.down[e.keyCode] = true;\n  \t});\n  \tdocument.addEventListener(\"keyup\", e => {\n  \t\tdelete this.down[e.keyCode];\n  \t\tdelete this.pressed[e.keyCode];\n  \t});\n  }\n\n  /**\n   * Returns whether a key is pressod down\n   * @param  {number} code the keycode to check\n   * @return {bool} the result from check\n   */\n  isDown(code) {\n  \treturn this.down[code];\n  }\n\n  /**\n   * Return wheter a key has been pressed\n   * @param  {number} code the keycode to check\n   * @return {bool} the result from check\n   */\n  isPressed(code) {\n  \t// if key is registred as pressed return false else if\n  \t// key down for first time return true else return false\n  \tif (this.pressed[code]) {\n  \t\treturn false;\n  \t} else if (this.down[code]) {\n  \t\treturn this.pressed[code] = true;\n  \t}\n  \treturn false;\n  }\n}\n","import {default as SpriteMap}  from './sprite_map/sprite_map.js'\nimport {default as Player}     from './player/player.js'\nimport {default as Alien}      from './aliens/alien.js'\nimport {default as SquadAliens} from './aliens/alien_squad.js'\nimport {default as ItemBar}    from './areas/area_itembar.js'\nimport {default as Bunker}     from './bunkers/bunker.js'\nimport {default as Aim}        from './aim/aim.js'\nimport {default as Bullet}     from './bullet/bullet.js'\nimport AreaPlayer              from './areas/area_player.js'\nimport AreaAlien               from './areas/area_alien.js'\nimport InputHandler            from './input-handler.js'\n\nimport assetPathPlayer         from '../assets/spriteRobot.png'\nimport assetPathAlienTypeOne   from '../assets/EnemyMonsterType1.png'\nimport assetPathAlienTypeTwo   from '../assets/EnemyMonsterType2.png'\nimport assetPathAlienTypeThree from '../assets/EnemyMonsterType3.png'\nimport assetPathBunkerType     from '../assets/greenbunker.png'\nimport assetPathItemBarType    from '../assets/faceRobot.png'\nimport assetPathEvilEyes       from '../assets/evilEyes.jpg'\n\nlet isAnounce = false;\nconst songAnouncer =  document.getElementById(\"anouncer\");\nconst songBlaster =  document.getElementById(\"blaster\");\n\nconst heightAreaPlayer = 110;\nconst countOfBunkers = 3;\n\nlet countOfMonstersInRow = 2;\nlet countOfKill = 0;\nlet previousTime = 0;\n\nlet sourceImagePlayer = new Image();\nsourceImagePlayer.src = assetPathPlayer;\nlet sourceImageAlienTypeOne = new Image();\nsourceImageAlienTypeOne.src = assetPathAlienTypeOne;\nlet sourceImageAlienTypeTwo = new Image();\nsourceImageAlienTypeTwo.src = assetPathAlienTypeTwo;\nlet sourceImageAlienTypeThree = new Image();\nsourceImageAlienTypeThree.src = assetPathAlienTypeThree;\nlet sourceImageBunkerType = new Image();\nsourceImageBunkerType.src = assetPathBunkerType;\nlet sourceImageItemBar = new Image();\nsourceImageItemBar.src = assetPathItemBarType;\n\nconst spriteMaps = {\n  itembar: null,\n  aliens: [],\n  player: null,\n  bunker: null,\n};\n\nconst gameState = {\n  area_player: null,\n  area_alien: null, \n  area_itembar: null,\n  bullets: [],\n  aliens: null,\n  bunkers: [],\n  player: null,\n  aim: null\n};\n\nconst inputHandler = new InputHandler();\n\nexport function preload(onPreloadComplete) {\n  if (spriteMaps.player != null \n      && spriteMaps.itembar != null\n      && spriteMaps.bunker != null\n      && spriteMaps.aliens.length == 3) onPreloadComplete();\n  else alert(\"Something wrong 0_0\");\n}\n\n\nsourceImagePlayer.addEventListener(\"load\", () => {\n    spriteMaps.player = new SpriteMap(sourceImagePlayer, 3, 4, 1, 1);\n  });\nsourceImageAlienTypeOne.addEventListener(\"load\", () => {\n    spriteMaps.aliens.push(new SpriteMap(sourceImageAlienTypeOne, 3, 1, 1, 1));\n  });\n\nsourceImageAlienTypeTwo.addEventListener(\"load\", () => {\n    spriteMaps.aliens.push(new SpriteMap(sourceImageAlienTypeTwo, 6, 1, 1, 0.5));\n  });\n\n sourceImageAlienTypeThree.addEventListener(\"load\", () => {\n    spriteMaps.aliens.push(new SpriteMap(sourceImageAlienTypeThree, 3, 1, 0.5, 0.5));\n  });\n  \nsourceImageBunkerType.addEventListener(\"load\", () => {\n    spriteMaps.bunker = new SpriteMap(sourceImageBunkerType, 1, 1, 0.8, 0.8);\n  });\n  \nsourceImageItemBar.addEventListener(\"load\", () => {\n    spriteMaps.itembar = new SpriteMap(sourceImageItemBar, 1, 1, 0.5, 0.5);\n  });\n\nexport function init(canvas) {\n  gameState.aim = new Aim();\n  generateAreas(canvas);\n  generatePlayer(gameState.area_player.x + gameState.area_player.w / 2, gameState.area_player.y + gameState.area_player.h / 2);\n  generateBunkers(canvas);\n  generateAliens();\n}\n\nexport function update(time, stopGame) {\n  if (!checkStateOfGame() || gameState.aliens.isWin) stopGame();\n  let timeAnounce = countOfKill % 10 == 0;\n  if (timeAnounce && !isAnounce) {\n    songAnouncer.volume = 0.8;\n    songAnouncer.play();\n    isAnounce = true;\n  }\n  if (!timeAnounce) {\n    isAnounce = false;\n  }\n\n  gameState.aliens.move(time);\n  moveController(time, stopGame);\n  fireAliens(time);\n  updateBullets(time);\n  gameState.area_itembar.update(gameState.player.health, countOfKill, gameState.bunkers.length, Math.ceil(time / 1000));\n  updateAliens();\n}\n\nexport function draw(canvas, time) {\n  const context = canvas.getContext('2d');\n  context.clearRect(0, 0, canvas.width, canvas.height);\n  drawLose(context, canvas);\n  setAim(canvas);\n  drawBullets(context);\n  gameState.area_alien.draw(context);\n  gameState.area_player.draw(context);\n  gameState.area_itembar.draw(context);\n  gameState.aliens.draw(context, time);\n  drawBunkers(context);\n  gameState.player.draw(context);\n  gameState.aim.draw(context);\n}\n\nfunction checkStateOfGame() {\n  if (gameState.player.health <= 0) return false;\n  if (gameState.aliens.listOfMonsters.length == 0) {\n     countOfMonstersInRow++;\n     gameState.player.health = 100;\n     generateAliens();\n  }\n  return true;\n}\n\nfunction updateAliens() {\n  let aliens = gameState.aliens.listOfMonsters;\n  for (let i = 0; i < aliens.length; i++) {\n    if (aliens[i].health <= 0) {\n      delete gameState.aliens.listOfMonsters[i];\n      gameState.aliens.listOfMonsters.splice(i, 1);\n      countOfKill++;\n      gameState.player.health += 5;\n    }\n  }\n}\nfunction fireAliens(time) {\n  let timeFire = Math.ceil(time / 500);\n  let isTimeFire = timeFire % 2 === 0;\n  if (timeFire > previousTime && isTimeFire) {\n    previousTime = timeFire;\n    let aliens = gameState.aliens.listOfMonsters;\n    for (let i = 0; i < aliens.length; i++) {\n      let beginPositionX = aliens[i].x + aliens[i].w/2; \n      let beginPositionY = aliens[i].y + aliens[i].h;\n      let endPositionX; \n      let endPositionY;\n      if (i < countOfMonstersInRow) {\n        endPositionX = gameState.player.x + gameState.player.w/2;\n        endPositionY = gameState.player.y + gameState.player.h/2;\n      } else {\n        endPositionX = getRandom(0, gameState.area_alien.w);\n        endPositionY = getRandom(gameState.area_alien.h, gameState.area_alien.h + gameState.area_player.h);\n      }\n      activateFireAliens(beginPositionX, beginPositionY, endPositionX, endPositionY);\n    }\n  }\n}\n\nfunction activateFireAliens(beginPositionX, beginPositionY, endPositionX, endPositionY) {\n  let bullet = new Bullet(beginPositionX, beginPositionY, 10, \"red\", \"alien\", 5); \n  bullet.coefSpeed = getRandom(30, 90);\n  gameState.bullets.push(bullet);\n  gameState.bullets[gameState.bullets.length - 1].fire(endPositionX, endPositionY);\n}\n\nfunction moveController(time, stopGame) {\n  gameState.player.isWalks = true;\n  let obstacle = gameState.player.intersectsWithBunkers(gameState.bunkers);\n  gameState.player.underBunker = obstacle != \"none\";\n  if (inputHandler.isDown(87) \n      && gameState.player.y > gameState.area_player.y\n      && obstacle != \"top\")  { //Up\n        gameState.player.moveUp(time);\n  }\n  if (inputHandler.isDown(83)\n      && gameState.player.y + gameState.player.h < gameState.area_player.y + gameState.area_player.h) { // Down\n        gameState.player.moveDown(time);\n  }\n  if (inputHandler.isDown(65) && gameState.player.x > 0 ) { // Left\n    gameState.player.moveLeft(time); \n  }\n  if (inputHandler.isDown(68) && gameState.player.x + gameState.player.w < gameState.area_player.w) { // Right\n    gameState.player.moveRight(time); \n\t}\n}\nfunction updateBullets(time) {\n  if (gameState.bullets.length == 0) return;\n  for (let i = 0; i < gameState.bullets.length; i++) {\n    if (gameState.bullets[i].type == \"alien\" && intersectBulletPlayer(gameState.bullets[i])) {\n      delete gameState.bullets[i];\n      gameState.bullets.splice(i, 1);\n      continue;\n    }\n    if (gameState.bullets[i].type == \"player\" && intersectBulletAlien(gameState.bullets[i])) {\n      delete gameState.bullets[i];\n      gameState.bullets.splice(i, 1);\n      continue;\n    }\n    if (intersectBulletBunker(gameState.bullets[i])) {\n      delete gameState.bullets[i];\n      gameState.bullets.splice(i, 1);\n      continue;\n    }\n\n    if (gameState.bullets[i] != null \n      && (gameState.bullets[i].x > gameState.area_alien.width\n      || gameState.bullets[i].x < 0 \n      || gameState.bullets[i].y > gameState.area_alien.h + gameState.area_player.h\n      || gameState.bullets[i].y < 0))\n      {\n        delete gameState.bullets[i];\n        gameState.bullets.splice(i, 1);\n        continue;\n      }\n    else gameState.bullets[i].update();\n  }\n}\n\nfunction setAim(canvas, context) {\n  canvas.onclick = function(event) {\n    if (gameState.player.underBunker) return;\n    let songOfBlaster = new Audio();\n    songOfBlaster.src = songBlaster.src;\n    songOfBlaster.volume = 0.3;\n    songOfBlaster.play();\n    gameState.player.direction = 10;   \n    gameState.bullets.push(new Bullet(gameState.player.x, \n      gameState.player.y + gameState.player.h/2, 10,\"cyan\", \"player\", 10));\n    gameState.bullets[gameState.bullets.length - 1].fire(event.offsetX, event.offsetY);\n  }\n\n  canvas.onmousemove = function(event) {\n    gameState.aim.x = event.offsetX;\n    gameState.aim.y = event.offsetY;\n  }\n}\n\nfunction drawBullets(context) {\n  if (gameState.bullets.length == 0) return;\n  for (let i = 0; i < gameState.bullets.length; i++) {\n    if (gameState.bullets[i] != null) gameState.bullets[i].draw(context);\n  }\n}\n\nfunction drawBunkers(context) {\n  for (let i = 0; i < gameState.bunkers.length; i++) {\n    gameState.bunkers[i].draw(context);\n  }\n}\nfunction drawLose(context, canvas) {\n  if (gameState.player.health <=0) {\n    context.beginPath();\n    context.strokeStyle = \"cyan\";\n    context.lineWidth = \"2\";\n    context.font = \"30pt Impact\";\n    context.shadowColor = \"8b00ff\";\n    context.shadowOffsetX = 5; \n    context.shadowOffsetY = 5;\n    context.shadowBlur = 10;\n    context.strokeText(\"ИГРА ЗАКОНЧЕНА\", canvas.width/2 - 100, canvas.height/2, 1500);\n    context.closePath();\n  }\n}\nfunction generateBunkers(canvas) {\n    for (let i = 0; i < countOfBunkers; i++) {\n      gameState.bunkers.push(new Bunker(spriteMaps.bunker, 100 + gameState.area_player.x + i * (canvas.width / 3), \n          gameState.area_player.y - spriteMaps.bunker.h / 2));\n  }\n}\n\nfunction generateAliens() {\n  let typeAliens = [];\n  for (let i = 0; i < spriteMaps.aliens.length; i++) {\n    typeAliens.push(new Alien(0, 0, spriteMaps.aliens[i], 0, 0, 100));\n  }\n  gameState.aliens = new SquadAliens(typeAliens, countOfMonstersInRow, \"red\",\n  gameState.area_alien.x, \n  gameState.area_alien.y, \n  gameState.area_alien.w,\n  gameState.area_alien.h);\n}\n\nfunction generateAreas(canvas) {\n  gameState.area_itembar = new ItemBar(0, canvas.height - sourceImageItemBar.height / 2, canvas.width,  \n    sourceImageItemBar.height / 2,\n    spriteMaps.itembar);\n gameState.area_player = new AreaPlayer(0, gameState.area_itembar.y - heightAreaPlayer, canvas.width, heightAreaPlayer);\n gameState.area_alien = new AreaAlien(0, 0, canvas.width, gameState.area_player.y);\n}\n\nfunction generatePlayer(xBegin, yBegin) {\n  gameState.player = new Player(spriteMaps.player, xBegin - spriteMaps.player.w/2, yBegin - spriteMaps.player.h/2);\n}\n\nfunction getRandom(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction intersectBulletBunker(bullet) {\n  for (let i = 0; i < gameState.bunkers.length; i++) {\n    if (bullet.intersects(gameState.bunkers[i])) \n      return true;\n  }\n  return false;\n}\n\nfunction intersectBulletAlien(bullet) {\n  let aliens = gameState.aliens.listOfMonsters;\n  for(let i = 0; i < aliens.length; i++) {\n    if (bullet.intersects(aliens[i])) {\n      gameState.aliens.listOfMonsters[i].health -= bullet.damage;\n      gameState.aliens.listOfMonsters[i].isDamage = true;\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction intersectBulletPlayer(bullet) { \n  if (bullet.intersects(gameState.player)) {\n    gameState.player.health -= bullet.damage;\n    return true;\n  }\n  return false;\n}","import { preload, init, update, draw} from './game.js';\r\nimport faceRobot from '../assets/faceRobot.png'\r\nimport evilEyes from '../assets/evilEyes.jpg'\r\nconst canvas = document.getElementById(\"cnvs\");\r\nconst context = canvas.getContext('2d');\r\nconst audioGame = document.getElementById(\"song\");\r\n\r\ncanvas.width = window.innerWidth ;\r\ncanvas.height = window.innerHeight;\r\n\r\nconst sourceImageFaceRobot = new Image();\r\nconst sourceImageEvilEyes = new Image();\r\n\r\nconst tickLength = 15; //ms\r\nlet lastTick;\r\nlet lastRender;\r\nlet stopCycle;\r\n\r\nbuttonStart.addEventListener(\"click\", function() {\r\n    audioGame.loop = true;\r\n    audioGame.play();\r\n    audioGame.volume = 0.5;\r\n    preload(onPreloadComplete);\r\n    buttonStart.style.display = \"none\";\r\n  });\r\n\r\nsourceImageFaceRobot.onload = function() {\r\n    context.drawImage(sourceImageFaceRobot, 0, 0, \r\n        sourceImageFaceRobot.width,\r\n        sourceImageFaceRobot.height,\r\n        0, 0, sourceImageFaceRobot.width, sourceImageFaceRobot.height);\r\n}\r\n\r\nsourceImageEvilEyes.onload = function() {\r\n    let pattern = context.createPattern(sourceImageEvilEyes, \"repeat\");\r\n    context.fillStyle = pattern;\r\n    context.strokeStyle = \"yellowgreen\";\r\n    context.fillRect(0, canvas.height/4, sourceImageEvilEyes.width, sourceImageEvilEyes.height);\r\n    context.strokeRect(0, canvas.height/4, sourceImageEvilEyes.width, sourceImageEvilEyes.height);\r\n}\r\nwindow.onload = function() {\r\n    sourceImageFaceRobot.src = faceRobot;\r\n    sourceImageEvilEyes.src = evilEyes;\r\n    noteWindow(context);\r\n}\r\n\r\nfunction run(tFrame) {\r\n    stopCycle = window.requestAnimationFrame(run);\r\n\r\n    const nextTick = lastTick + tickLength;\r\n    let numTicks = 0;\r\n\r\n    if (tFrame > nextTick) {\r\n        const timeSinceTick = tFrame - lastTick;\r\n        numTicks = Math.floor(timeSinceTick / tickLength);\r\n    }\r\n\r\n    for (let i = 0; i < numTicks; i++) {\r\n        lastTick = lastTick + tickLength;\r\n        update(lastTick, stopGame);\r\n    }\r\n\r\n    draw(canvas, tFrame);\r\n    lastRender = tFrame;\r\n}\r\n\r\nfunction stopGame() {\r\n    sourceImageEvilEyes.src = evilEyes;\r\n    audioGame.pause();\r\n    window.cancelAnimationFrame(stopCycle);\r\n}\r\n\r\nfunction onPreloadComplete() {\r\n  lastTick = performance.now();\r\n  lastRender = lastTick;\r\n  stopCycle = null;\r\n  init(canvas);\r\n  run();\r\n}\r\n\r\n\r\nfunction noteWindow(context) {\r\n    context.beginPath();\r\n    context.strokeStyle = \"aqua\";\r\n    context.lineWidth = \"2\";\r\n    context.font = \"30pt Impact\";\r\n    context.shadowColor = \"8b00ff\";\r\n    context.shadowOffsetX = 5; \r\n    context.shadowOffsetY = 5;\r\n    context.shadowBlur = 10;\r\n    context.strokeText(\"ЧЕЛОВЕЧЕСТВО УНИЧТОЖЕНО ИНОПЛАНЕТНЫМИ ЗАХВАТЧИКАМИ\", 150, 50, 1500);\r\n    context.strokeText(\"ТЫ - БЕЗДУШНАЯ МАШИНА\", 150, 100, 1500);\r\n    context.strokeStyle = \"#ff3333\";\r\n    context.strokeText(\"ИХ КРОВЬ - ТВОЁ ТОПЛИВО\", 150, 150, 1500);\r\n    context.closePath();\r\n    context.beginPath();\r\n    context.fillStyle = \"yellow\";\r\n    context.font = \"15pt Impact\";\r\n    context.lineWidth = \"1\";\r\n    context.fillText(\"Жёлтая зона - зона боевых действий\", 1000, 200, 1500);\r\n    context.fillStyle = \"#19ff19\";\r\n    context.fillText(\"Зеленая зона - активная зона для перемещения\", 1000, 220, 1500);\r\n    context.fillStyle = \"#ff3333\";\r\n    context.fillText(\"Красная зона - ваша статистика\", 1000, 240, 1500);\r\n    context.fillStyle = \"aqua\";\r\n    context.fillText(\"Ваша задача: не подпускать их к зеленой линии!\", 1000, 280, 1500);\r\n    context.fillText(\"WASD - перемещение\", 1000, 320, 1500);\r\n    context.fillText(\"Прицеливание мышью \", 1000, 340, 1500);\r\n    context.fillText(\"Стрельба - левая кнопка мыши\", 1000, 360, 1500);\r\n    context.fillText(\"Клавиша C - включить/выключить музыку\", 1000, 380, 1500);\r\n    context.closePath();\r\n}\r\n"]}